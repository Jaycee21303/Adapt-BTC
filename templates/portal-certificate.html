{% include 'components/header.html' %}
<link rel="stylesheet" href="{{ url_for('portal.static', filename='css/portal.css') }}">
<div class="navbar">
  <div>Certificates & Progress</div>
  <div>
    <a href="{{ url_for('portal.dashboard') }}">Dashboard</a>
    <a href="{{ url_for('portal.logout') }}">Logout</a>
  </div>
</div>
<div class="container">
  <h2>Your Progress</h2>
  {% for course_id, data in course_data.items() %}
  <div class="card">
    <h3>{{ course_id.replace('-', ' ').title() }}</h3>
    <p>Lessons completed: {{ data.get('lessons_completed', 0) }}</p>
    <p>Last viewed: Lesson {{ data.get('last_lesson', 1) }}</p>
    <p>Quiz attempts: {{ (attempts.get(course_id) or [])|length }}</p>
    <a class="btn" href="{{ url_for('portal.course_detail', course_id=course_id) }}">Resume</a>
    <a class="btn secondary" href="{{ url_for('portal.certificate', course_id=course_id) }}">Download Certificate</a>
  </div>
  {% endfor %}
</div>
{% include 'components/footer.html' %}
